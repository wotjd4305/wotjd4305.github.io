---
layout: post
title: DaouMarket
tags: [Spring Boot, Vue.js, Jenkins, BootStrap, JPA, Docker,MariaDB, EC2, MVVM, Github]
---
### 중고거래를 손쉽게 하기 위해서 중고거래 사이트를 제작하였고, 동기부여를 위한 포인트, 랭킹, 찜, 채팅을 구현하였습니다. 맡은 역할은 프론트와 백을 둘다 구현하였다.

**기간** : 2020.09 ~ 2020.10

### **맡은 역할**

- **프론트**

```java
# **구성짜기
 - BootStrap을 통한 전체적인 구성.**
  제작에 유용한 CSS를 가지고 있는 오픈소스.
  *사용이유*? 편의성, 반응형을 지원하고 다른개발자들과의 빠른 캐치업
  *단점?* [1]정형화된 스타일, [2]필요없는 코딩 로딩 
 - **Vuex라는 상태관리 패턴을 사용**
  각 비즈니스 별로 store 파일을 생성, 객체의 상태와 변이를 중앙에서 관리하기 때문에,
  비동기적인 작업 처리가 쉽다. (getter와 setter로 가져오고 변화)
  *왜?* 흐름형태(Action -> Mutation -> State 변경 및 랜더링)으로 변이시점 관리.
 **- Style Scope 사용**
  한 컴퍼넌트(페이지) 마다 Style을 독립적으로 맥임
  *사용이유?* css가 겹치거나 충돌하는것을 방지, 한페이지에서만 작용하기에
   직관적으로 이해 가능(찾아볼필요x), 단기프로젝트에 적합, 

**# Input Handling
 - 비밀번호 유효성 체크를 위해 정규 표현식 사용**
  *사용이유?* 규칙에 맞도록 처리를 일일이 하는게 비효율적
  *단점?* [1] 지나치게 쓰면 가독성 해침
****
# **서버 부하방지
 - 디바운싱 사용**
  *사용이유?* 좋아요 클릭 시에, 악의적으로 반복으로 누를 경우, 계속 api를 요청.
  일정시간안에 마지막으로 호출된 api만 작동하게 함
  *왜?* 서버 부하 방지와 api 남용을 줄이려고

**# 보안
 - 파일 업로드 시 제한**
  jpeg, jpg, png 이외에는 불가능하게(이미지만 필요함으로)
 **- 로그인 안한 유저가 다른 페이지 접근 x**
  라우터 네비게이션 가드라는 핸들링을 사용, 에상된 서비스 로직 벗어나지 않게 함.

**# 비동기적 통신**
 - Async&Wait
 *사용이유?* 예상된 서비스로직을 따라가지 않은 경우가 있다. ( DB에서 가져올때 지연, 서버에서 지연)
 그래서 정상적인 서비스로직을 위해서 Async&Wait를 사용해서 비동기적 처리를 하였다.
 *장점?* 직관적으로 이해할 수 있는 코드이며, 사용이 편함.

**# Vue 장점**
뷰의 장점
[1]플러그인, 믹스인 등의 방법으로 순수 자바스크립트 오픈소스를 뷰에서 사용할 수 있도록 랩핑하는것도 매우 쉬울뿐 아니라 심지어 (모듈화가 잘되어 있다면)기존 자바스크립트 라이브러리(jquery 같은)를 그대로 붙여서 사용할 수 있는 유연성도 있다.
[2] 가독성이 높고, 직관적
[3] 리엑트에서는 컴포넌트 상태변경시 전체 컴퍼넌트 다시 렌더링, 뷰는 실제로 렌더링해야하는 부분을 추적하여 빠르다.
[4] 상태관리 솔루션 우수.
```

- **백**

```java
# **Rest API 제작.
# MyBatis를 이용한 페이징처리, SQL 매핑. 
# 로그인은 JWT 사용.**
 사용이유? RestAPI는 Stateless를 지향하고, 확장성 측면에서 jwt기반 인증이 적합하다 생각.
 stateless(세션 같은게 없어서 상태정보를 저장x, 클라와 서버가 연결고리없으니 확장성 굿)

**# 비밀번호 암호화는 SHA256**
 사용이유? 빠른 출력 속도를 가지며, SHA512와의 보안성에서 차이가 없지만, 길이는 차이가있음

**# 채팅 기능
 - Stomp 프로토콜를 사용.**
  *사용이유?* [1]Spring에 종속적 
					[2] WebSocket에서는 해당요청에 맞는 Handler 요청받기 -> 요청에 맞는 ChatRomm찾기 -> 메시지 뿌리는 과정 코드작성해줘야햄
					[3] 메시지를 URL보내면, 해당 URL을 구독한 사용자들을 알아서 찾아줌
					[4] 연결여부를 계속 주시하지 않고, HeartBeat(일정시간마다확인)으로 오버헤드줄임

**# 파일 업로드
 - 보안**
  사용이유? 웹서버의 91%에서 웹 쉘(웹사이트를 통해 쉘을 염) 의 흔적이 발견.
  예? hack_cmd.asp;.jpg는 홈페이지상 jpg지만, 윈도우상 asp파일로 실행됨.
    '0x00' | '%00'등 문자의 끝을 의미하는 문자 입력을 막고, 브라우저에서 지원하는 확장자를 따로 담아 확인.
     ex) jpg, gif, png, svg...
```


